{% extends "students/base.html" %}

{% load static from staticfiles %}

{% block meta_title %}Icпити{% endblock meta_title %}

{% block title %}Icпити{% endblock title %}

 {% block status_message %}
{% if form.errors %}
<div class="alert alert-danger" role="alert">
 Будь-ласка, виправте наступні помилки
 </div>
  {% endif %}

{% if messages %}
  <div class="alert alert-warning">
          {% for message in messages %}
              {{ message }}
          {% endfor %}
  </div>
{% endif %}

{% endblock  %}



{% block content %}
<!--<style type="text/css">.col-xs-12, .col-xs-4, .col-xs-6 {border: 1px solid red;}</style>-->
<!-- Add Exam Button -->
<div class="col-xs-7" style="margin: 2% 0 2% 0">
  <a class="btn btn-primary" href={% url "exams_add" %}>Додати Icпит</a>
  
</div>

<!-- Start Exams Listing &uarr;-->
          <table class="table table-hover table-striped">
           {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
            <thead>
              <tr>

                <th><a href="{% url "exams" %}?order_by=id{% if order_by == 'id' and reverse != '1' %}&amp;reverse=1{% endif %}">№
                  {% if order_by == 'id' and reverse != '1' %}&uarr;
                    {%elif order_by == 'id' and reverse == '1' %}&darr;
                  {% endif %}
                </a></th>
    
                <th><a href="{% url "exams" %}?order_by=exam_day{% if reverse != '1'%}&amp;reverse=1{% endif %}">Дата проведення
                    {% if order_by == ''  %}&uarr;
                      {% elif order_by == 'exam_day' and reverse != '1' %}&uarr;
                      {% elif order_by == 'exam_day' and reverse == '1' %}&darr;
                    {% endif %}
                </a></th>
                <th><a href="{% url "exams" %}?order_by=nazva{% if order_by == 'nazva' and reverse != '1' %}&amp;reverse=1{% endif %}">Назва предмету
                  {% if order_by == 'nazva' and reverse != '1' %}&uarr;
                    {%elif order_by == 'nazva' and reverse == '1' %}&darr;
                  {% endif %}
                </a></th>
                <th><a href="{% url "exams" %}?order_by=prepod{% if order_by == 'prepod' and reverse != '1' %}&amp;reverse=1{% endif %}">Викладач
                  {% if order_by == 'prepod' and reverse != '1' %}&uarr;
                    {%elif order_by == 'prepod' and reverse == '1' %}&darr;
                  {% endif %}
                </a></th>
                <th><a href="">Група

                </a></th>

                <th>Діі</th>
              </tr>
            </thead>
            {% endwith %}
            <tbody>

        {% for exam in exams %}
              <tr>
                <td>{{ forloop.counter }}</td> 
                <td>{{ exam.exam_day }}</td> 
                <td><a href='{% url "exams_edit" exam.id %}'>{{ exam.nazva }}</td>
                <td>{{ exam.prepod }}</td>
                <td><a href='{% url "groups_edit" exam.exam_group.id %}'>{{ exam.exam_group }}</td> 


                <td>
                  <div class="btn-group">
<!--                <div class="btn-group">-->
                    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Дія
                      <span class="caret"></span>
                    </button>
                  <ul class="dropdown-menu" role="menu">
                        <li role="presentation">
                          <a role="menuitem" tabindex="-1" 
                            href={% url "exams_add" %}>Додати</a>
                        </li>
                        <li role="presentation">
                          <a role="menuitem" tabindex="-1" 
                            href={% url "exams_edit" exam.id %}>Редагувати</a>
                        </li>
                        <li role="presentation">
                          <a role="menuitem" tabindex="-1" 
                            href={% url "exams_delete" exam.id %}>Видалити</a>
                        </li>
                  </ul>
                </div>
              </td>
            </tr>
            {% endfor %}
            
          </tbody>
        </table>
<!-- End Students Listing -->

<!--Navigation by page start-->
    {% if exams.has_other_pages %}
         
         {% with order_by=request.GET.order_by reverse=request.GET.reverse %}
          <nav>
            <ul class="pagination">
              <li><a href="{% url "exams" %}?page=1&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">&laquo;</a></li>
              {% for p in exams.paginator.page_range %}
              <li {% if exams.number == p %}class="active"{% endif %}>
              <a href="{% url "exams" %}?page={{ p }}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">{{ p }}</a>
              </li>
              {% endfor %}

              <li><a href="{% url "exams" %}?page={{ exams.paginator.num_pages}}&amp;order_by={{ order_by }}&amp;reverse={{ reverse }}">
              &raquo;</a></li>
            </ul> 
          </nav>
          {% endwith %}
          
    {% endif %}
    
<!--Navigation by page end-->
          
{% endblock content %}


<!-- End Main Page Content -->

